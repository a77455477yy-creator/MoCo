<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的地理位置</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            text-align: center;
        }
        #status {
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        .coordinate {
            font-size: 1.5em;
            font-weight: bold;
            color: #333;
            margin: 10px 0;
        }
    </style>
</head>
<body>

    <h1>我的當前經緯度</h1>
    <p id="status">正在檢查地理位置服務...</p>

    <div id="latitude-display" class="coordinate">緯度: 待取得</div>
    <div id="longitude-display" class="coordinate">經度: 待取得</div>
    
    <script>
        // 取得 DOM 元素以更新資訊
        const statusDisplay = document.getElementById('status');
        const latitudeDisplay = document.getElementById('latitude-display');
        const longitudeDisplay = document.getElementById('longitude-display');

        /**
         * 處理成功取得位置的結果
         * @param {Position} position - 包含地理位置資訊的物件
         */
        function handlePosition(position) {
            const coords = position.coords;
            
            // 只取得並顯示經度和緯度
            const latitude = coords.latitude;
            const longitude = coords.longitude;

            statusDisplay.textContent = "✅ 位置取得成功！";
            latitudeDisplay.textContent = `緯度 (Latitude): ${latitude}`;
            longitudeDisplay.textContent = `經度 (Longitude): ${longitude}`;

            // 您也可以在這裡看到其他資訊 (可選)
            console.log("緯度:", latitude);
            console.log("經度:", longitude);
            console.log("精度 (公尺):", coords.accuracy); 
        }

        /**
         * 處理取得位置失敗的結果
         * @param {PositionError} error - 錯誤物件
         */
        function handleError(error) {
            let message = "❌ 位置取得失敗！";
            
            switch(error.code) {
                case error.PERMISSION_DENIED:
                    message += " 您拒絕了地理位置請求。";
                    break;
                case error.POSITION_UNAVAILABLE:
                    message += " 位置資訊不可用。";
                    break;
                case error.TIMEOUT:
                    message += " 請求超時。";
                    break;
                default:
                    message += ` 發生未知錯誤 (錯誤碼: ${error.code})。`;
            }

            statusDisplay.textContent = message;
            console.error("位置錯誤:", error);
            latitudeDisplay.textContent = `緯度: -`;
            longitudeDisplay.textContent = `經度: -`;
        }

        // --- 主要邏輯 ---

        // 1. 檢查瀏覽器支援
        if ("geolocation" in navigator) {
            statusDisplay.textContent = "地理位置服務可用，正在請求您的位置...";
            
            // 2. 取得當前位置
            // 參數：成功回呼函式, 失敗回呼函式, 選項 (可選)
            navigator.geolocation.getCurrentPosition(
                handlePosition,
                handleError
                // { enableHighAccuracy: true, timeout: 5000, maximumAge: 0 } // 可選配置
            );

        } else {
            statusDisplay.textContent = "❌ 您的瀏覽器不支援地理位置服務。";
            console.log("地理位置服務不可用");
        }
    </script>

</body>
</html>